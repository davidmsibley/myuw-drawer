<!DOCTYPE html>

<template id='myuw-drawer'>
  <style>
    @import url(https://fonts.googleapis.com/icon?family=Material+Icons);

    #drawer {
      width: 300px;
      height: 100%;
      display: block;
      position: fixed;
      left: -300px;
      top: 64px;
      bottom: 0;
      z-index: 5;
      background-color: white;
      transition: left .4s cubic-bezier(.25, .8, .25, 1);
    }

    #drawer[open="true"] {
      left: 0;
    }
  </style>

  <span>
    <button id="menu" class="demo__toolbar-button menu">
      <i class="material-icons">menu</i>
    </button>
  </span>
  <div id="drawer" open="false">
    <ul>
      <slot name="myuw-drawer-links"></slot>
    </ul>
  </div>
</template>

<script>
  class MyUWDrawer extends HTMLElement {
    constructor() {
      super();

      // Create a shadow-root for this element.
      this.attachShadow({ mode: 'open' });

      // Append the custom HTML template to the shadow-root.
      this.shadowRoot.appendChild(MyUWDrawer.template.content.cloneNode(true));

      // Initialize component state.
      this.isDrawerOpen = false;
    }

    static get observedAttributes() {
      return [];
    }

    /**
     * Web component lifecycle hook to updated changed properties.
     */
    attributeChangedCallback(name, oldValue, newValue) {
      // ...
    }

    /**
     * When the component is first attached to the DOM, get its defined
     * attributes and listen for scrolling.
     */
    connectedCallback() {
      // Create references to frequently updated elements.
      this.$button = this.shadowRoot.querySelector('#menu');
      this.$drawer = this.shadowRoot.querySelector('#drawer');

      // Attach event listeners.
      this.$button.addEventListener('click', this.toggleDrawer.bind(this));
    }

    /**
     * Clean-up listeners if the component is removed from the DOM.
     */
    disconnectedCallback() {
      this.$button = null;
      this.$drawer = null;
    }

    /**
     * Update the component state depending on changed properties and/or
     * font loading.
     */
    updateComponent(prop, value) {
      // ...
    }

    toggleDrawer() {
      if (this.isDrawerOpen) {
        this.closeDrawer();
      } else {
        this.openDrawer();
      }
    }

    closeDrawer() {
      this.isDrawerOpen = false;
      this.$drawer.setAttribute('open', false);
    }

    openDrawer() {
      this.isDrawerOpen = true;
      this.$drawer.setAttribute('open', true);
    }
  }

  MyUWDrawer.template = (document._currentScript || document.currentScript).ownerDocument.getElementById('myuw-drawer');

  window.customElements.define('myuw-drawer', MyUWDrawer);
</script>
